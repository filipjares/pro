
%% Inicializace robotického toolboxu
% addpath rvctools/
% startup_rvc

%% Definice D-H parametru robotu (ze souboru Assig03.m), naimportovana prostrednictvim Maple

a1 = 0.309740000000000000000000000000e3;
a2 = 0.211030000000000000000000000000e3;
a3 = 0.224690000000000000000000000000e3;
a4 = 0.990000000000000000000000000000e0;
a5 = 0.260000000000000000000000000000e0;
a6 = 0.900000000000000000000000000000e-1;
d1 = 0.117140000000000000000000000000e3;
d2 = -0.380000000000000000000000000000e0;
d3 = -0.150000000000000000000000000000e0;
d4 = 0.223410000000000000000000000000e3;
d5 = -0.300000000000000000000000000000e-1;
d6 = 0.482880000000000000000000000000e3;

alpha1 = -0.156206968053492497134670323780e1;
alpha2 = -0.628318530717958647692528676656e-2;
alpha3 = -0.157044726094449775331593695349e1;
alpha4 = 0.157254165604689094880824538241e1;
alpha5 = -0.158161736815726146260824857440e1;
alpha6 = 0.165806278939461309807750623007e-1;

mu1 = -0.999961923064171288737355164827e0;
mu2 = -0.628314396555895124973531015796e-2;
mu3 = -0.999999939076516661270093868198e0;
mu4 = 0.999998476913287698802901247926e0;
mu5 = -0.999941453103215767885140850206e0;
mu6 = 0.165798681876975283169352843833e-1;
lambda1 = 0.872653549837393496488821397089e-2;
lambda2 = 0.999980260856137129848673660430e0;
lambda3 = 0.349065843310096712961605837775e-3;
lambda4 = -0.174532836589830883577820272211e-2;
lambda5 = -0.108208301820766583079873738957e-1;
lambda6 = 0.999862544538437331035781244372e0;

%% Reseni inverzni kinematicke ulohy vyresene v Maple v souboru ik63.mw

thetas = [[0.299415491086153597589739213492e0 -0.198897780675163816990859528252e1 -0.731395360971540487031607865774e0 -0.669718017533275309528796377239e0 -0.249715397561450500521476962695e1 -0.154997402268028320582782161353e0]' [0.297753170390232430399261081988e0 -0.192841429052853480058287599080e1 -0.832172987350896333112722687066e0 -0.635997979426733659716934599484e0 -0.246492850259159191484182944300e1 -0.114668131856026971523728129735e0]'];
q1 = thetas(:,1)';
q2 = thetas(:,2)';

%% Definice robotu s pouzitim D-H parametru

clear L;
clear r;
%            theta  d      a      alpha
L(1) = Link([0      d1	   a1     alpha1]);
L(2) = Link([0      d2	   a2     alpha2]);
L(3) = Link([0      d3	   a3     alpha3]);
L(4) = Link([0      d4	   a4     alpha4]);
L(5) = Link([0      d5	   a5     alpha5]);
L(6) = Link([0      d6	   a6     alpha6]);

% V aktualni verzi Robotics Toolboxu je prikaz 'robot' nahrazen tridou 'SerialLink'
r = SerialLink(L, 'name', 'HW-07 #03');

%% Prvni reseni - nakreslit

figure(1); clf;
r.plot(q1);
axis equal tight;

%% Druhe reseni - nakreslit

figure(2); clf;
r.plot(q2);
axis equal tight;

%% Animace prechodu robotu z "nulove" polohy do polohy q1

% % trajektorie přechodu
% qz = [0 -pi/2 -pi/2 0 0 0];
% t = [0:.056:2]';
% q = jtraj(qz, q1, t);
% 
% % animace
% figure(1); clf;
% r.plot(q);

